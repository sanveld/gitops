# Basic ArgoCD configuration with LoadBalancer service
server:
  # Configure server service
  service:
    type: LoadBalancer
    port: 80
    # Use default nodePort values for HTTP/HTTPS
    # Remove following lines if you want Kubernetes to assign random ports
    nodePortHttp: 30080
    nodePortHttps: 30443

  # Add additional ingress annotations if needed
  ingress:
    enabled: false

  # Basic server configuration
  extraArgs:
    - --insecure # Remove this in production

# Configure RBAC for the server
rbacConfig:
  policy.default: role:readonly
  policy.csv: |
    g, admin, role:admin

# Disable Dex for simple admin auth
dex:
  enabled: false

# Resource requirements
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Application controller settings
controller:
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

# Redis settings
redis:
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 50m
      memory: 64Mi

# Repo server settings
repoServer:
  resources:
    limits:
      cpu: 300m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi