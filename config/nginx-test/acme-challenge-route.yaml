apiVersion: traefik.io/v1alpha1
kind: IngressRoute
metadata:
  name: nginx-test-acme-challenge
  namespace: nginx-test
spec:
  entryPoints:
    - web  # Only HTTP, not HTTPS
  routes:
    - match: Host(`nginx-test.everythingascode.dev`) && PathPrefix(`/.well-known/acme-challenge/`)
      kind: Rule
      priority: 100  # High priority to ensure it takes precedence
      services:
        - name: cm-acme-http-solver-gzfj5  # Correct solver service name
          port: 8089
