installCRDS: true
service:
  type: LoadBalancer

providers:
  kubernetesCRD:
    enabled: true

# Enable TLS support
ssl:
  enabled: true
  
# Simple HTTP to HTTPS redirection (no special ACME challenge handling needed for DNS01)
additionalArguments:
  - "--entrypoints.web.http.middlewares=https-redirect@kubernetescrd"
  - "--entrypoints.web.http.middlewares.https-redirect.redirectscheme.scheme=https"
  - "--entrypoints.web.http.middlewares.https-redirect.redirectscheme.permanent=true"
  
ports:
  web:
    port: 8000
    expose: {}  # Changed from boolean to empty object
    exposedPort: 80
  websecure:
    port: 8443
    expose: {}  # Changed from boolean to empty object
    exposedPort: 443

# Resource limits
resources:
  requests:
    cpu: "100m"
    memory: "50Mi"
  limits:
    cpu: "300m"
    memory: "150Mi"
